function handle_login(){login("email",$("#login_email").val(),$("#login_pass").val())}function getRef(){var t=$.getScript("https://cdn.firebase.com/js/client/2.2.1/firebase.js");t.then(function(){ref=new Firebase("https://shindigevents.firebaseio.com"),init()},function(t){console.log(t)})}function init(){localStorage&&(structure(),AddScript("js/modernizr-min.js"),AddScript("js/materialize-min.js"),$(window).load(function(){route(null!=localStorage.getItem("state")&&""!=localStorage.getItem("state")?localStorage.getItem("state"):tern(ref.getAuth(),"events","events")),$(".button-collapse").sideNav(),$(".collapsible").collapsible({accordian:!0})}))}function structure(){source=$("#nav_template").html(),template=Handlebars.compile(source),Handlebars.registerPartial("loginPartial",template),context=tern(ref.getAuth(),{login_option_routing:'route("events")',login_option_function:"logout()",login_option_text:"Logout"},{login_option_routing:'route("landing_page")',login_option_function:'route("auth")',login_option_text:"Login or Register"}),html=template(context),$("body").append(html),source=$("#main_template").html(),template=Handlebars.compile(source),context={},html=template(context),$("body").append(html)}function checkLogin(){return ref.getAuth()?"logged in":"logged out"}function tern(t,e,n){var o=t?e:n;return o}function logout(){ref.unauth(),location.reload()}function auth_template(){$.getScript("js/auth/auth.js").then(function(){ref.getAuth()?($("#template_container").html(""),$("#template_container").hide(0),source=$("#auth").html(),template=Handlebars.compile(source),localStorage.setItem("state","auth"),html=template(context),$("#template_container").append(html),$("#template_container").show(500)):(console.log(ref.getAuth()),route("manual_registration"))})}function manual_registration(){var t=$.getScript("https://cdn.firebase.com/js/client/2.2.1/firebase.js");t.then(function(){AddScript("js/auth/auth.js")},function(t){console.log(t)});var e=$.getScript("https://code.jquery.com/ui/1.12.0-rc.2/jquery-ui.min.js");e.then(function(){AddScript("js/auth/auth.js")},function(t){console.log(t)})}function AddScript(t){var e=document.createElement("script");e.type="text/javascript",e.src=t,document.body.appendChild(e),document.body.removeChild(document.body.lastChild)}function events(){}function new_event_form(){}function route(t){switch($("#template_container").html(""),$("#template_container").hide(0),source=$("#"+t).html(),template=Handlebars.compile(source),localStorage.setItem("state",t),t){case"events":events(),$("#template_container").show(500);break;case"manual_registration":manual_registration(),$("#template_container").show(500);break;case"auth":auth_template(),$("#template_container").show(500);break;case"landing_page":context={image:"images/group_003.jpg"},$("#template_container").show(500);break;case"structure":$("#template_container").show(500);break;case"new_event_form":new_event_form(),$("#template_container").show(500);break;default:context={}}html=template(context),$("#template_container").append(html),$("#template_container").show(500)}var view,source,template,context,html,ref;$(function(){getRef()});