function getRef(){ref=new Firebase("https://shindigevents.firebaseio.com")}function register(e,a,i,t){email=e,password=a,name=i,optional_data=t,console.log(e),ref.createUser({email:e,password:a,name:i},function(e,a){if(e)switch(e.code){case"EMAIL_TAKEN":Materialize.toast("A user with this email already exists in our database.",4e3);break;case"INVALID_EMAIL":Materialize.toast("The specified email in not a valid email.",4e3);break;default:console.log("Error creating user:",e)}else user_created=!0,id=a.uid;user_created&&(adduserdata(),connect_email())})}function login(){email=$("#login_email").val(),password=$("#login_pass").val(),connect_email()?Materialize.toast("User verification failed",2e3):(Materialize.toast("Welcome back",2e3,"success"),route("events"))}function connect_email(){ref.authWithPassword({email:email,password:password},function(e,a){return e?(console.log(e),!1):(id=a.uid,!0)})}function adduserdata(){var e=ref.child("users/"),a=e.child(id);a.set({first_name:name,email_address:email,employer:optional_data[0],jobTitle:optional_data[1],birthday:optional_data[2]}),Materialize.toast("User successfully created",2e3),route("events")}function anonymous(){ref.authAnonymously(function(e,a){e?alert("Login Failed!",e):alert("You are now logged in as an anonymous user")})}$(function(){getRef()});var ref,email="",password="",name="",optional_data=[],user_created=!1,id;